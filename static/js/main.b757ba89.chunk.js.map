{"version":3,"sources":["api/users.js","api/posts.js","api/comments.js","components/User/Users.js","components/Comment/Comment.js","components/CommentList/CommentList.js","components/Post/Post.js","components/PostList/PostList.js","App.js","index.js"],"names":["getUsers","fetch","then","response","json","getPosts","getComments","Users","_ref","name","email","website","react_default","a","createElement","Fragment","Comments","comment","className","body","CommentList","comments","map","Comment_Comments","key","id","Post","data","title","Users_Users","user","CommentList_CommentList_CommentList","PostList","posts","post","Post_Post_Post","getPostsWithUsers","users","_objectSpread","find","item","userId","filter","postId","App","state","originPosts","isLoading","isLoaded","hasError","getData","_this","setState","Promise","all","catch","finally","searchFunc","event","Object","toConsumableArray","v","toLowerCase","includes","target","value","_this$state","this","preparedPosts","length","onClick","role","type","placeholder","onChange","PostList_PostList_PostList","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.b757ba89.chunk.js","sourcesContent":["export const getUsers = () => {\n  return fetch('https://jsonplaceholder.typicode.com/users').then(response =>\n    response.json()\n  );\n};\n","export const getPosts = () => {\n  return fetch('https://jsonplaceholder.typicode.com/posts').then(response =>\n    response.json()\n  );\n};\n","export const getComments = () => {\n  return fetch('https://jsonplaceholder.typicode.com/comments').then(response =>\n    response.json()\n  );\n};\n","import React from 'react';\nimport './Users.css';\nimport PropTypes from 'prop-types';\n\nexport const Users = ({ name, email, website }) => (\n  <>\n    <h6>{name}</h6>\n    <h6>{email}</h6>\n    <h6>{website}</h6>\n  </>\n);\n\nUsers.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n  }).isRequired,\n};\n","import React from 'react';\nimport './Comment.css';\nimport PropTypes from 'prop-types';\n\nexport const Comments = ({ comment }) => (\n  <div className=\"card-body\">\n    <li className=\"card-title\">{comment.name}</li>\n    <p className=\"card-text card-email\">{comment.email}</p>\n    <p className=\"card-text\">{comment.body}</p>\n  </div>\n);\n\nComments.propTypes = {\n  comment: PropTypes.shape({\n    name: PropTypes.string,\n    body: PropTypes.string,\n    email: PropTypes.string,\n  }).isRequired,\n};\n","import React from 'react';\nimport './CommentList.css';\n\nimport PropTypes from 'prop-types';\nimport { Comments } from '../Comment/Comment';\n\nexport const CommentList = ({ comments }) => (\n  <div className=\"card w-75\">\n    <h4>Comments:</h4>\n    {comments.map(comment => (\n      <Comments comment={comment} key={comment.id} />))}\n  </div>\n);\n\nCommentList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React from 'react';\nimport './Post.css';\n\nimport PropTypes from 'prop-types';\nimport { Users } from '../User/Users';\nimport { CommentList } from '../CommentList/CommentList';\n\nexport const Post = ({ data }) => (\n  <div className=\"card\">\n    <div className=\"card-header\">\n      <h4 className=\"card-title\">{data.title}</h4>\n      <Users {...data.user} />\n    </div>\n    <div className=\"card-body\">\n      <p className=\"card-text\">\n        {data.body}\n      </p>\n      <CommentList comments={data.comments} />\n    </div>\n  </div>\n);\n\nPost.propTypes = {\n  data: PropTypes.shape({\n    title: PropTypes.string,\n    body: PropTypes.string,\n    user: PropTypes.string,\n  }).isRequired,\n};\n","import React from 'react';\nimport './PostList.css';\n\nimport PropTypes from 'prop-types';\nimport { Post } from '../Post/Post';\n\nexport const PostList = ({ posts }) => (\n  <div className=\"post-list\">\n    {posts.map(post => (\n      <Post data={post} key={post.id} />))\n    }\n  </div>\n);\n\nPostList.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React from 'react';\nimport './App.css';\n\nimport { getUsers } from './api/users';\nimport { getPosts } from './api/posts';\nimport { getComments } from './api/comments';\n\nimport { PostList } from './components/PostList/PostList';\n\nfunction getPostsWithUsers(posts, users, comments) {\n  return posts.map(post => ({\n    ...post,\n    user: users.find(item => item.id === post.userId),\n    comments: comments.filter(comment => comment.postId === post.id),\n  }));\n}\n\nclass App extends React.Component {\n  state = {\n    posts: [],\n    originPosts: [],\n    users: [],\n    comments: [],\n    isLoading: false,\n    isLoaded: false,\n    hasError: false,\n  };\n\n  getData = () => {\n    this.setState({\n      posts: [],\n      isLoading: true,\n      hasError: false,\n    });\n\n    getPosts().then((data) => {\n      this.setState({\n        posts: data,\n        originPosts: data,\n      });\n    });\n\n    getUsers().then((data) => {\n      this.setState({\n        users: data,\n      });\n    });\n    getComments().then((data) => {\n      this.setState({\n        comments: data,\n      });\n    });\n\n    Promise.all([getPosts(), getUsers(), getComments()])\n      .then(() => {\n        this.setState({\n          isLoaded: true,\n        });\n      })\n      .catch(() => {\n        this.setState({\n          hasError: true,\n        });\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  searchFunc = (event) => {\n    const { originPosts } = this.state;\n\n    this.setState({\n      posts: [...originPosts].filter(\n        v => v.title.toLowerCase().includes(event.target.value.toLowerCase())\n          || v.body.toLowerCase().includes(event.target.value.toLowerCase())\n      ),\n    });\n  };\n\n  render() {\n    const {\n      posts,\n      users,\n      comments,\n      isLoading,\n      hasError,\n      isLoaded,\n    } = this.state;\n    const preparedPosts = getPostsWithUsers(posts, users, comments);\n\n    return (\n      <div className=\"main\">\n        <h1>Dynamic list of posts</h1>\n        <p>\n          <span>posts: </span>\n          {posts.length}\n        </p>\n        {!posts.length\n          && !users.length\n          && !comments.length\n          && !isLoading\n          && !hasError && (\n          <button onClick={this.getData} className=\"btn btn-outline-dark\">\n              Load posts\n          </button>\n        )}\n        {isLoading && (\n          <div className=\"spinner-grow text-dark\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n        )}\n        {hasError && (\n          <>\n            <h3>Something went wrong:(</h3>\n            <button\n              type=\"button\"\n              onClick={this.getData}\n              className=\"btn btn-outline-dark\"\n            >\n              Try again\n            </button>\n          </>\n        )}\n        {isLoaded && (\n          <>\n            <input\n              type=\"text\"\n              name=\"text-area\"\n              placeholder=\"Search your post ❤\"\n              className=\"form-control form-control-lg\"\n              onChange={this.searchFunc}\n            />\n            <PostList posts={preparedPosts} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}